<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2-Click Ad Trigger</title>
  <style>
    body {
      margin: 0;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #my-video {
      width: 90%;
      max-width: 800px;
    }
  </style>
  <!-- JW Player -->
  <script src="https://cdn.jwplayer.com/libraries/IDzF9Zmk.js"></script>
</head>
<body>

  <div id="my-video"></div>

  <script>
    const vastAds = [
      "https://s.magsrv.com/v1/vast.php?idzone=5755632&ex_av=name",
      "https://s.magsrv.com/v1/vast.php?idzone=5757688&ex_av=name",
      "https://s.magsrv.com/v1/vast.php?idzone=5757692&ex_av=name",
      "https://s.magsrv.com/v1/vast.php?idzone=5757698&ex_av=name"
    ];

    let adIndex = 0;
    let clickCount = 0;
    let player;

    player = jwplayer("my-video").setup({
      file: "../../videoxx/video3.mp4",
      width: "100%",
      aspectratio: "16:9",
      autostart: false,
      advertising: {
        client: "vast"
      }
    });

    // Handle click events
    document.getElementById("my-video").addEventListener("click", function() {
      clickCount++;
      if (clickCount % 2 === 0) {
        playAd();
      }
    });

    // Function to play the ad
    function playAd() {
      const adTag = vastAds[adIndex];
      adIndex = (adIndex + 1) % vastAds.length;

      player.pause(true);
      player.playAd(adTag);

      player.on("adComplete", function() {
        player.play(true);
      });
    }
  </script>

</body>
</html>
